<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="cs" lang="cs">    <head>        <meta http-equiv="content-type" content="text/html; charset=utf-8" />        <meta http-equiv="content-language" content="cs" />        <meta name="author" lang="cs" content="Tomáš Lach | HTML Kodér - www.tomaslach.cz" />        <meta name="copyright" lang="cs" content="Tomáš Lach | HTML Kodér - www.tomaslach.cz" />        <meta name="description" content="" />        <meta name="keywords" content="" />        <meta name="robots" content="all,follow" />        <link rel="shortcut icon" href="img/favicon.ico" />                <link href="../css/main_sub.css" type="text/css" rel="stylesheet" media="screen,projection" />        <title>EVERSTRAY'S</title>        <style type="text/css">        table.gridtable {        	font-family: verdana,arial,sans-serif;        	font-size:11px;        	color:#333333;        	border-width: 1px;        	border-color: #666666;        	border-collapse: collapse;        }        table.gridtable th {        	border-width: 1px;        	padding: 8px;        	border-style: solid;        	border-color: #666666;        	background-color: #dedede;        }        table.gridtable td {        	border-width: 1px;        	padding: 8px;        	border-style: solid;        	border-color: #666666;        	background-color: #ffffff;        }                legend {        	border: 1px solid #333;        	font-size: 15px;        	margin: 5px;        	padding: 5px;        }                li {        	font-size: 15px;        	margin-bottom: 10px;        }        </style>        <script type="text/javascript">        	var sqls=new Array();        	sqls[0]="SELECT rf.FACILITY_ID,rf.FACILITY_NAME FROM ecshop.ecs_admin_user eau LEFT JOIN romeo.facility rf on POSITION(rf.FACILITY_ID IN eau.facility_id) WHERE eau.user_name = 'dareke'; ";        	sqls[1]="SELECT * FROM romeo.inventory_location WHERE product_id = 'PID';";        	sqls[2]="SELECT * FROM ecshop.ecs_order_info WHERE order_id=OID;"        	sqls[3]="select \n\                s.SHIPMENT_ID,s.CARRIER_ID,s.PARTY_ID,s.PRIMARY_ORDER_ID,count(distinct(pm.product_id)) as sku_num \n\            from \n\                romeo.order_inv_reserved r \n\                inner join romeo.order_shipment m on m.ORDER_ID=CONVERT(r.ORDER_ID using utf8) \n\                inner join romeo.shipment s on s.SHIPMENT_ID=m.SHIPMENT_ID \n\                inner join ecshop.ecs_order_info oi on oi.order_id = r.order_id \n\                inner join ecshop.ecs_order_goods og ON oi.order_id = og.order_id \n\                inner join romeo.product_mapping pm ON og.goods_id = pm.ecs_goods_id and og.style_id = pm.ecs_style_id \n\            where \n\                r.STATUS = 'Y' and s.STATUS = 'SHIPMENT_INPUT' and s.shipping_category = 'SHIPPING_SEND'  \n\                and oi.shipping_status = '0' and oi.order_status = '1' \n\                and not exists (select 1 from romeo.batch_pick_mapping bm where bm.shipment_id = s.shipment_id limit 1) \n\                and r.FACILITY_ID IN ('3580047','3633071','12768420','18906089','19568548','19568549','22143846','22143847','24196974','42741887','43981157','49858449','69897656','76065524','76161272','77451244','79256821','81569822','81569823','83077348','83077349','83077350','83972713','83972714','89054427','92718101','100170588','100170589','100170590','100170591','101960106','104054442','105983744')  and  r.PARTY_ID = '65553'group by  \n\                s.SHIPMENT_ID \n\                 having sku_num >=1  \n\            order by sku_num  \n\            limit 6000";            sqls[4]="SELECT \n\                pfs.party_id, \n\                p.`NAME`, \n\                pfs.facility_id, \n\                f.FACILITY_NAME, \n\                pfs.shipping_id, \n\                es.shipping_name, \n\                pfs.is_delete AS isNotUseArataCarrierBill \n\            FROM \n\                romeo.party_facility_shipping pfs \n\            LEFT JOIN romeo.party p ON pfs.party_id = p.PARTY_ID \n\            LEFT JOIN romeo.facility f ON pfs.facility_id = f.FACILITY_ID \n\            LEFT JOIN ecshop.ecs_shipping es ON pfs.shipping_id = es.shipping_id;";            sqls[5]="SELECT \n\                iid.created_stamp, \n\                f.facility_name, \n\                CONCAT( g.goods_name, ' ', IF ( \n\                        gs.goods_color = '' OR gs.goods_color IS NULL, ifnull(s.color, ''), \n\                        ifnull(gs.goods_color, '') \n\                    ) \n\                ) AS goods_name, \n\                g.barcode, \n\                iid.QUANTITY_ON_HAND_DIFF, \n\            IF (ii.status_id = 'INV_STTS_AVAILABLE','全新', '二手') AS status_id, \n\             oi.order_sn, \n\             oi.order_time, \n\             CASE  \n\            WHEN oi.order_type_id = 'SALE' THEN '销售' \n\            WHEN oi.order_type_id = 'PURCHASE' THEN '采购' \n\            WHEN oi.order_type_id = 'SUPPLIER_EXCHANGE' THEN '供应商换货' \n\            WHEN oi.order_type_id = 'BORROW' THEN '借机' \n\            WHEN oi.order_type_id = 'SUPPLIER_SALE' THEN '供应商销售' \n\            WHEN oi.order_type_id = 'SUPPLIER_RETURN' THEN '供应商退货' \n\            WHEN oi.order_type_id = 'RMA_RETURN' THEN '客户退货' \n\            WHEN oi.order_type_id = 'RMA_EXCHANGE' THEN '客户换货' \n\            WHEN oi.order_type_id = 'SHIP_ONLY' THEN '补寄' \n\            WHEN oi.order_type_id = 'VARIANCE_MINUS' THEN '盘亏' \n\            WHEN oi.order_type_id = 'VARIANCE_ADD' THEN '盘盈' \n\            END AS order_type_id \n\            FROM romeo.inventory_item_detail AS iid \n\            LEFT JOIN romeo.inventory_item AS ii ON iid.inventory_item_id = ii.inventory_item_id \n\            LEFT JOIN romeo.product AS p ON ii.product_id = p.product_id \n\            LEFT JOIN romeo.product_mapping AS pm ON p.product_id = pm.product_id \n\            LEFT JOIN ecshop.ecs_goods AS g ON pm.ECS_GOODS_ID = g.goods_id \n\            LEFT JOIN ecshop.ecs_goods_style gs ON pm.ECS_GOODS_ID = gs.goods_id \n\            AND pm.ECS_STYLE_ID = gs.style_id \n\            LEFT JOIN ecshop.ecs_style AS s ON s.style_id = gs.style_id \n\            LEFT JOIN romeo.facility AS f ON ii.facility_id = f.facility_id \n\            LEFT JOIN ecshop.ecs_order_info AS oi ON oi.order_id = iid.ORDER_ID \n\            WHERE ii.status_id IN ('INV_STTS_USED','INV_STTS_AVAILABLE') \n\            AND ii.PRODUCT_ID IN (...) \n\            AND ii.FACILITY_ID IN (...) \n\            ORDER BY iid.created_stamp";                	function showsql(sql_id){        		var sql=sqls[sql_id];        		document.getElementById('ta').value=sql;        	}        </script>            </head>    <body>      <div style="margin: 20px;">    	<div>    		<a href="http://github.everstray.com"  style="float: left;">    			<img src="../img/logo.png" alt="logo" style="float: left;margin-top: 10px;margin-left: 20px;" />    		</a>       		<div style="margin-left: 20px;width: 80%;float: left;">    			<h1>    				Leqee Frequent SQL    			</h1>    			<h2>I will bless the LORD, who hath given me counsel: my reins also instruct me in the night seasons. (Psalms 16:7)</h2>    		</div>    	</div>    	<div style="margin: 10px;border: 0px solid #333;clear: both;">    	<hr>			<div style="width: 95%;height: 150px;margin: auto;">				<textarea style="height: 100%;width: 100%;" id='ta'>Select one to copy from here!</textarea>			</div>			<div style="margin: 20px;">			<fieldset>				<legend>SQL List</legend>				<ol>					<li>	                    <a href="javascript:void(0)" onclick='showsql(0)'>Admin in which facilities </a>	                </li>					<li>	                    <a href="javascript:void(0)" onclick='showsql(1)'>Inventory Location Check for product</a>	                </li>					<li>	                    <a href="javascript:void(0)" onclick='showsql(2)'>Order by ID</a>	                </li>					<li>	                    <a href="javascript:void(0)" onclick='showsql(3)'>Check Shipments for batch pick</a>	                </li>	                <li>	                    <a href="javascript:void(0)" onclick='showsql(4)'>Is PARTY - FACILITY - SHIPPING USE ARATA CARRIER BILL</a>	                </li>                    <li>                        <a href="javascript:void(0)" onclick='showsql(5)'>PRODUCT - FACILITYUT Inventory IO Record</a>                    </li>				</ol>			</fieldset>			</div>    	</div>    </div>    </body></html>