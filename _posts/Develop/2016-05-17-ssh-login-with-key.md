---
layout: post
author: sinri
title: "RSAに基づくパスワード不要なSSHログインの配置方法"
date: 2016-05-17
excerpt: "RSAに基づくパスワード不要なSSHログインの配置方法。クライアントでssh-keygen生成、公開鍵をサーバーのauthorized_keysに追加する手順。SSHバージョンによる注意点も記載。"
---

# RSAに基づくパスワード不要なSSHログインの配置方法

簡単に言えば、クライアントからサーバーへ接続する場合、普通　`ssh WHO@IP`　を利用し、パスワードでログインする。ＲＳＡを使えば、パスワードを入力せずにログインするも可能になる。

まず、クライアントで、以下のコマンドを実行する。ＫＥＹの保存する場所はデフォルトで良い。Ｐａｓｓｐｈｒａｓｅは空白にする。

`ssh-keygen -t rsa`

引き続き、クライアントからサーバーへコマンドを発信し、.sshディレクトリの存在を確保。パスワードが必要。

`ssh WHO@IP mkdir -p .ssh`

また、クライアントからサーバーへ公開鍵を送信する。

`cat .ssh/id_rsa.pub | ssh WHO@IP 'cat >> .ssh/authorized_keys'`

今は、パスワードなしでＳＳＨログイン可能になる。

注意。ＳＳＨバージョンによって、以下の操作も必要になるかもしれぬ。

* 公開鍵を `~/.ssh/authorized_keys2`　に保存すること。
* ディレクトリ `~/.ssh` を `700`　に設定すること。
* ディレクトリ `~/.ssh/authorized_keys2` を `640`　に設定すること。
