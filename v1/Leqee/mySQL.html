<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="cs" lang="cs">    <head>        <meta http-equiv="content-type" content="text/html; charset=utf-8" />        <meta http-equiv="content-language" content="cs" />        <meta name="author" lang="cs" content="Tomáš Lach | HTML Kodér - www.tomaslach.cz" />        <meta name="copyright" lang="cs" content="Tomáš Lach | HTML Kodér - www.tomaslach.cz" />        <meta name="description" content="" />        <meta name="keywords" content="" />        <meta name="robots" content="all,follow" />        <link rel="shortcut icon" href="img/favicon.ico" />                <link href="../css/main_sub.css" type="text/css" rel="stylesheet" media="screen,projection" />        <title>EVERSTRAY'S</title>        <style type="text/css">        table.gridtable {        	font-family: verdana,arial,sans-serif;        	font-size:11px;        	color:#333333;        	border-width: 1px;        	border-color: #666666;        	border-collapse: collapse;        }        table.gridtable th {        	border-width: 1px;        	padding: 8px;        	border-style: solid;        	border-color: #666666;        	background-color: #dedede;        }        table.gridtable td {        	border-width: 1px;        	padding: 8px;        	border-style: solid;        	border-color: #666666;        	background-color: #ffffff;        }                legend {        	border: 1px solid #333;        	font-size: 15px;        	margin: 5px;        	padding: 5px;        }                li {        	font-size: 15px;        	margin-bottom: 10px;        }        #div_id_copy_button{            margin: 10px 0;            text-align: right;        }        #div_id_copy_button a { color:#666!important; border:1px solid #666; text-decoration:none; padding:3px 5px; }        #div_id_copy_button a:hover, #div_id_copy_button a.hover { color:#ff6699!important; border:1px solid #ff6699; }        #div_id_copy_button a:active, #div_id_copy_button a.active { color:#fff!important; background:#ff6699; border:1px solid #ff6699; }        </style>        <script src="../js/jquery/jquery-1.5.1.min.js" type="text/javascript"></script>        <script type="text/javascript" src="../js/zclip/jquery.zclip.js"></script>        <script type="text/javascript">            $(document).ready(function(){                $('a#copy_ta_id_javaBuildTargetStore').zclip({                    path:'../js/zclip/ZeroClipboard.swf',                    copy:function(){                        return $('textarea#ta').val();                    },                    afterCopy:function(){                        alert("Copied into your clipboard!");                    }                });            });        </script>        <script type="text/javascript">        	var sqls=new Array();            function showsql(sql_id){                var sql=sqls[sql_id];                document.getElementById('ta').value=sql;            }        	sqls[0]="SELECT rf.FACILITY_ID,rf.FACILITY_NAME FROM ecshop.ecs_admin_user eau LEFT JOIN romeo.facility rf on POSITION(rf.FACILITY_ID IN eau.facility_id) WHERE eau.user_name = 'dareke'; ";        	sqls[1]="SELECT * FROM romeo.inventory_location WHERE product_id = 'PID';";        	sqls[2]="SELECT * FROM ecshop.ecs_order_info WHERE order_id=OID;"        	sqls[3]="select  s.SHIPMENT_ID,s.CARRIER_ID,s.PARTY_ID,s.PRIMARY_ORDER_ID,count(distinct(pm.product_id)) as sku_num  from  romeo.order_inv_reserved r  inner join romeo.order_shipment m on m.ORDER_ID=CONVERT(r.ORDER_ID using utf8)  inner join romeo.shipment s on s.SHIPMENT_ID=m.SHIPMENT_ID  inner join ecshop.ecs_order_info oi on oi.order_id = r.order_id  inner join ecshop.ecs_order_goods og ON oi.order_id = og.order_id  inner join romeo.product_mapping pm ON og.goods_id = pm.ecs_goods_id and og.style_id = pm.ecs_style_id  where  r.STATUS = 'Y' and s.STATUS = 'SHIPMENT_INPUT' and s.shipping_category = 'SHIPPING_SEND'   and oi.shipping_status = '0' and oi.order_status = '1'  and not exists (select 1 from romeo.batch_pick_mapping bm where bm.shipment_id = s.shipment_id limit 1)  and r.FACILITY_ID IN ('3580047','3633071','12768420','18906089','19568548','19568549','22143846','22143847','24196974','42741887','43981157','49858449','69897656','76065524','76161272','77451244','79256821','81569822','81569823','83077348','83077349','83077350','83972713','83972714','89054427','92718101','100170588','100170589','100170590','100170591','101960106','104054442','105983744')  and  r.PARTY_ID = '65553'group by   s.SHIPMENT_ID  having sku_num >=1   order by sku_num   limit 6000";            sqls[4]="SELECT  pfs.party_id,  p.`NAME`,  pfs.facility_id,  f.FACILITY_NAME,  pfs.shipping_id,  es.shipping_name,  pfs.is_delete AS isNotUseArataCarrierBill  FROM  romeo.party_facility_shipping pfs  LEFT JOIN romeo.party p ON pfs.party_id = p.PARTY_ID  LEFT JOIN romeo.facility f ON pfs.facility_id = f.FACILITY_ID  LEFT JOIN ecshop.ecs_shipping es ON pfs.shipping_id = es.shipping_id;";            sqls[5]="SELECT  iid.created_stamp,  f.facility_name,  CONCAT( g.goods_name, ' ', IF (  gs.goods_color = '' OR gs.goods_color IS NULL, ifnull(s.color, ''),  ifnull(gs.goods_color, '')  )  ) AS goods_name,  g.barcode,  iid.QUANTITY_ON_HAND_DIFF,  IF (ii.status_id = 'INV_STTS_AVAILABLE','全新', '二手') AS status_id,  oi.order_sn,  oi.order_time,  CASE   WHEN oi.order_type_id = 'SALE' THEN '销售'  WHEN oi.order_type_id = 'PURCHASE' THEN '采购'  WHEN oi.order_type_id = 'SUPPLIER_EXCHANGE' THEN '供应商换货'  WHEN oi.order_type_id = 'BORROW' THEN '借机'  WHEN oi.order_type_id = 'SUPPLIER_SALE' THEN '供应商销售'  WHEN oi.order_type_id = 'SUPPLIER_RETURN' THEN '供应商退货'  WHEN oi.order_type_id = 'RMA_RETURN' THEN '客户退货'  WHEN oi.order_type_id = 'RMA_EXCHANGE' THEN '客户换货'  WHEN oi.order_type_id = 'SHIP_ONLY' THEN '补寄'  WHEN oi.order_type_id = 'VARIANCE_MINUS' THEN '盘亏'  WHEN oi.order_type_id = 'VARIANCE_ADD' THEN '盘盈'  END AS order_type_id  FROM romeo.inventory_item_detail AS iid  LEFT JOIN romeo.inventory_item AS ii ON iid.inventory_item_id = ii.inventory_item_id  LEFT JOIN romeo.product AS p ON ii.product_id = p.product_id  LEFT JOIN romeo.product_mapping AS pm ON p.product_id = pm.product_id  LEFT JOIN ecshop.ecs_goods AS g ON pm.ECS_GOODS_ID = g.goods_id  LEFT JOIN ecshop.ecs_goods_style gs ON pm.ECS_GOODS_ID = gs.goods_id  AND pm.ECS_STYLE_ID = gs.style_id  LEFT JOIN ecshop.ecs_style AS s ON s.style_id = gs.style_id  LEFT JOIN romeo.facility AS f ON ii.facility_id = f.facility_id  LEFT JOIN ecshop.ecs_order_info AS oi ON oi.order_id = iid.ORDER_ID  WHERE ii.status_id IN ('INV_STTS_USED','INV_STTS_AVAILABLE')  AND ii.PRODUCT_ID IN (...)  AND ii.FACILITY_ID IN (...)  ORDER BY iid.created_stamp";            sqls[6]="SELECT  pm.*  FROM  ecshop.ecs_goods eg  LEFT JOIN romeo.product_mapping pm ON pm.ECS_GOODS_ID = CONVERT (eg.goods_id USING utf8)  WHERE  eg.goods_name = '电教2号纸箱440340100501';";            sqls[7]="SELECT  f_from.FACILITY_NAME F_FROM,  f_to.FACILITY_NAME F_TO,  itrans.AVAILABLE_TO_PROMISE,  itrans.QUANTITY_ON_HAND,  itrans.CANCELLATION_FLAG,  itrans.FROM_STATUS_ID,  itrans.TO_STATUS_ID,  itrans.CREATED_STAMP,  itrans.LAST_UPDATED_STAMP  FROM  romeo.inventory_transaction itrans  LEFT JOIN romeo.inventory_item iitem_from ON itrans.FROM_INVENTORY_ITEM_ID = iitem_from.INVENTORY_ITEM_ID  LEFT JOIN romeo.inventory_item iitem_to ON itrans.FROM_INVENTORY_ITEM_ID = iitem_to.INVENTORY_ITEM_ID  LEFT JOIN romeo.facility f_from ON itrans.FROM_FACILITY_ID = f_from.FACILITY_ID  LEFT JOIN romeo.facility f_to ON itrans.TO_FACILITY_ID = f_to.FACILITY_ID  WHERE  (  itrans.FROM_FACILITY_ID = '22143846'  OR itrans.TO_FACILITY_ID = '22143846'  )  AND iitem_from.PRODUCT_ID = '76218978';";             sqls[8]="-- the count for read-used numbers  select count(1) FROM  ecshop.thermal_express_mailnos tem  INNER JOIN romeo.shipment s on s.TRACKING_NUMBER=tem.tracking_number and s.SHIPMENT_TYPE_ID=tem.shipping_id  where tem.`status`!='N'  and s.`STATUS` !='SHIPMENT_CANCELLED';  -- the count for real-wasted numbers  select count(1) FROM  ecshop.thermal_express_mailnos tem  LEFT JOIN romeo.shipment s on s.TRACKING_NUMBER=tem.tracking_number and s.SHIPMENT_TYPE_ID=tem.shipping_id  WHERE tem.`status`!='N'  AND (s.TRACKING_NUMBER is NULL OR s.`STATUS` ='SHIPMENT_CANCELLED')";                	        </script>            </head>    <body>      <div style="margin: 20px;">    	<div>    		<a href="http://github.everstray.com"  style="float: left;">    			<img src="../img/logo.png" alt="logo" style="float: left;margin-top: 10px;margin-left: 20px;" />    		</a>       		<div style="margin-left: 20px;width: 80%;float: left;">    			<h1>    				Leqee Frequent SQL    			</h1>    			<h2>I will bless the LORD, who hath given me counsel: my reins also instruct me in the night seasons. (Psalms 16:7)</h2>    		</div>    	</div>    	<div style="margin: 10px;border: 0px solid #333;clear: both;">    	<hr>			<div style="margin: 10px;float: left;width: 20%;height: 500px;padding: 5px;">			<fieldset><!-- style="margin: 20px 0px;height:70%;overflow: scroll;" -->				<legend style="margin: 10px;">SQL List</legend>				<ol>					<li>	                    <a href="javascript:void(0)" onclick='showsql(0)'>Admin in which facilities </a>	                </li>					<li>	                    <a href="javascript:void(0)" onclick='showsql(1)'>Inventory Location Check for product</a>	                </li>					<li>	                    <a href="javascript:void(0)" onclick='showsql(2)'>Order by ID</a>	                </li>					<li>	                    <a href="javascript:void(0)" onclick='showsql(3)'>Check Shipments for batch pick</a>	                </li>	                <li>	                    <a href="javascript:void(0)" onclick='showsql(4)'>Is PARTY - FACILITY - SHIPPING USE ARATA CARRIER BILL</a>	                </li>                    <li>                        <a href="javascript:void(0)" onclick='showsql(5)'>PRODUCT - FACILITY Inventory IO Record</a>                    </li>                    <li>                        <a href="javascript:void(0)" onclick='showsql(6)'>通过商品名查GOODS STYLE PRODUCT</a>                    </li>                    <li>                        <a href="javascript:void(0)" onclick='showsql(7)'>调取某仓库某物某时间段的库存变化</a>                    </li>                    <li>                        <a href="javascript:void(0)" onclick='showsql(8)'>热敏面单实际利用数以及浪费数统计</a>                    </li>				</ol>			</fieldset>			</div>            <div style="float: left;width: 70%;height: 500px;margin: 10px;">                <textarea style="height: 90%;width: 100%;" id='ta'>Select one to copy from here!</textarea>                <div id="div_id_copy_button" class="h2_content">                    Copy the following target node into build.xml of NetBeans Java Project.                    <a href="#" id="copy_ta_id_javaBuildTargetStore">Copy Now</a>                </div>            </div>    	</div>    </div>    </body></html>